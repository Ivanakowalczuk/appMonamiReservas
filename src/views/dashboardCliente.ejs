<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Clientes</title>
    <%- include('partials/headDashboard') %>


    
  
</head>
<body>
  
<header class="navbar navbar-dark sticky-top bg-black flex-md-nowrap p-0 shadow">
<a class="navbar-brand col-md-3 col-lg-2 me-0 px-3 fs-6" href="dashboard"><img class="logo" src="../img/logo-sin-fondo.png" alt=""></a>
<button class="navbar-toggler position-absolute d-md-none collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#sidebarMenu" aria-controls="sidebarMenu" aria-expanded="false" aria-label="Toggle navigation">
  <span class="navbar-toggler-icon"></span>
</button>
<input class="form-control form-control-dark w-100 rounded-0 border-0" type="text" placeholder="Buscar" aria-label="Search">
<div class="navbar-nav">
  <div class="nav-item text-nowrap">
    <a class="nav-link px-3" href="logout">Salir</a>
  </div>
</div>
</header>

<div class="container-fluid mb-5">
<div class="row">
  <nav id="sidebarMenu" class="col-md-3 col-lg-2 d-md-block bg-light sidebar collapse">
    <div class="position-sticky pt-3">
      <ul class="nav flex-column">
        <li class="nav-item">
          <a class="nav-link active" aria-current="page" href="dashboard">
            <span data-feather="home" class="align-text-bottom"></span>
           Reservas
          </a>
        </li>
        
        </li>
        <li class="nav-item">
          <a class="nav-link" href="dashboardSquash">
            <span class="align-text-bottom"></span>
            Squash 
          </a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="dashboardPadel">
            <span  class="align-text-bottom"></span>
            Padel
          </a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="dashboardCliente">
            <span data-feather="bar-chart-2" class="align-text-bottom"></span>
          Clientes
          </a>
        </li>
       
      </ul>
    </div>
  </nav>

  <main class="col-md-9 ms-sm-auto col-lg-10 px-md-4">
    <div class="d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pt-3 pb-2 mb-3 border-bottom">
      <h1>Clientes</h1>
      <a class="btn btn-success" href="nuevoCliente">Nuevo Cliente</a> 
    
    </div>
    
    <div class="table d-flex flex-wrap justify-content-around ">
     
        <table class="table table-responsive table-sm">
          
          
            <thead>
              
              <tr>
                <th scope="col">Nombre</th>
                <th scope="col">Apellido</th>
                <th scope="col">DNI</th>
                <th scope="col">Teléfono</th>
                <th scope="col">E-mail</th>
                <th scope="col">Dirección</th>  
                <th scope="col">Rol</th>        
                <th scope="col">Modificar</th>  
                <th scope="col">Eliminar</th>  
              </tr>
            </thead>
            <tbody>
              <% results.forEach((usuario)=> { 
                
                let nombre= usuario.nombre
                let apellido= usuario.apellido
                let telefono= usuario.telefono
                let DNI= usuario.DNI
                let direccion= usuario.direccion
                let email= usuario.email.toLowerCase()
                let rol = usuario.id_rol
                let id = usuario.id
                if(rol === 2){
                  rol= 'Cliente'
                     
              }else{
                 rol = 'Administrador'
              }
              
               %> 
                
           
             <tr>
                  <td><h6><%=nombre%></h6></td>
                  <td>
                    <h6><%=apellido%></h6>
                  </td>
                  <td>
                    <h6><%=DNI%></h6>
                  </td>
                  <td>
                    <h6><%=telefono%></h6>
                  </td>
                  <td>
                    <h6><%=email%></h6>
                  </td>
                  <td>
                    <h6><%=direccion%></h6>
                  </td>
                  <td>
                    <h6><%=rol%></h6>
                  </td>
                  <td>
                    <a href="/editarCliente/<%=id%>" class="btn btn-primary"><i class="bi bi-pencil-square"></i></a>
                  </td>
                  <td>
                    <a  href="/deleteCliente/<%=id%>" class="btn btn-danger"><i class="bi bi-x-lg"></i></a>
                  </td>
                  <td class="d-none"> <%= id%> </td>
                </tr>
        
  
                <%}) %>
    </tbody>
</table>




    </div>
  </main>
</div>
</div>

       
<%- include ('partials/footerDashboard')%>

<!-- JavaScript Bundle with Popper -->

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0-beta1/dist/js/bootstrap.bundle.min.js" integrity="sha384-pprn3073KE6tl6bjs2QrFaJGz5/SUsLqktiwsUTF55Jfv3qYSDhgCecCxMW52nD2" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/feather-icons@4.28.0/dist/feather.min.js" integrity="sha384-uO3SXW5IuS1ZpFPKugNNWqTZRRglnUJK6UAZ/gxOX80nxEkN9NcGZTftn6RzhGWE" crossorigin="anonymous"></script><script src="https://cdn.jsdelivr.net/npm/chart.js@2.9.4/dist/Chart.min.js" integrity="sha384-zNy6FEbO50N+Cg5wap8IKA4M/ZnLJgzc6w2NqACZaK0u0FXfOWRRJOnQtpZun8ha" crossorigin="anonymous"></script><script src="dashboard.js"></script>
</body>
</html>
