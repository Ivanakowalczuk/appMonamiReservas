<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Reservar Padel</title>
    <%- include('partials/head') %>
   
   
  </head>
  <body class="bg-black">
    <%- include('partials/profile') %>
      <%- include('partials/header') %>
  
      <main>
        <section class="seccion1">
         
            <a class="d-flex justify-content-center" href="/">
              <img class="logo2" src="../img/logo-sin-fondo.png" alt="logo" >
            </a>
         
            <div class="d-flex justify-content-center">   
            <div class="card rounded-pill mx-2 mt-4 cardSeleccionFecha">
              <div class="card-body d-flex flex-column">
                <h4 class="text-center">Selecciona un deporte</h4>
                <div class="seleccionaDeporte d-flex justify-content-center">
                      <a type="buttton" class="btn btn-outline-secondary m-3 btn-lg"  href="reservarSquash">Squash</a>
                      <a type="buttton"  class="btn btn-outline-secondary m-3 btn-lg" href="reservarPadel">Padel</a>
                    
                  </div>
                </div>
               
              </div>
            </div>
        
        </section>
        <section class="d-flex flex-column align-items-center seccionReserva">
 
          <h3 class="text-light text-center mt-4" name="deporte" id="deporte">PADEL</h3>

          <article class="reservaCancha">
             <div class="card" >
              <div class="d-flex justify-content-center align-middle ">
                
                  <img src="../img/padel1.jpg" class="img-fluid rounded imgDeporte" alt="padel">
                         
                   <div class="card-body">
                     
                     
                   <form class="d-flex flex-column justify-content-center align-items-center form-reserva" action="reservarPadel"  method="post">                      
                    <input class="dateForm" data-provider="datepicker" type="date" name="fecha" id="fecha" required>
             

                                   
                   
                      <input value="p1" name="cancha" id="cancha" selected class="d-none">

                      <select class="dateForm m-3" name="hora_inicio" id="hora_inicio" required> 
                        <option class="hora" type="time" value="" selected disabled>Hora de inicio</option>
                        <% 
                        let hora = 15 * 60; // Inicializamos la hora en 15:00 en minutos (15 horas * 60 minutos)
                        for (var i = 0; i < 18; i++) { // Generamos 18 opciones
                          %>
                          <option class="hora" type="time" value="<%= hora %>"><%= horas[i] %></option>
                          <% 
                          hora += 30; // Incrementamos en 30 minutos para la próxima hora
                        }
                        %>
                      </select>
                      

                    <select class="m-3 dateForm "  name= "duracion" id="duracion" required> 
                      <option selected disabled>Duración</option>
                      <option class="hora" type="time" value="60" requiered >60 min</option>
                      <option class="hora" type="time" value="90">90 min</option>
                      <option class="hora" type="time" value="120">120min</option>
                    </select>

                   <a><button type="submit" class="btn btn-outline-secondary">Enviar</button></a>
                                 
                  </div>
                
              </div>
            </div>
            </form>
          </article>
          <article class="reservaCancha">
            <div class="card" >
             <div class="d-flex justify-content-center align-middle ">
               
                 <img src="../img/padel2.jpg" class="img-fluid rounded imgDeporte" alt="padel">
                        
                  <div class="card-body">
                    
                    
                  <form class="d-flex flex-column justify-content-center align-items-center form-reserva" action="reservarPadel"  method="post">                      
                      <input class="dateForm" data-provider="datapicker" type="date" name="fecha" id="fecha" required >
                     
                      <%  %>           
                  
                     <input value="p2" name="cancha" id="cancha" selected class="d-none">
                     <select class="dateForm m-3" name="hora_inicio" id="hora_inicio" required> 
                      <option class="hora" type="time" value="" selected disabled>Hora de inicio</option>
                      <% 
                     hora = 15 * 60; // Inicializamos la hora en 15:00 en minutos (15 horas * 60 minutos)
                      for (var i = 0; i < 18; i++) { // Generamos 18 opciones
                        %>
                        <option class="hora" type="time" value="<%= hora %>"><%= horas[i] %></option>
                        <% 
                        hora += 30; // Incrementamos en 30 minutos para la próxima hora
                      }
                      %>
                    </select>
                                    
                   <select class="m-3 dateForm "  name= "duracion" id="duracion" required> 
                     <option selected disabled>Duración</option>
                     <option class="hora" type="time" value="60" requiered >60 min</option>
                     <option class="hora" type="time" value="90">90 min</option>
                     <option class="hora" type="time" value="120">120min</option>
                   </select>

                  <a href="reservaExitosa" ><button type="submit" class="btn btn-outline-secondary">Enviar</button></a>
                                
                 </div>
               
             </div>
           </div>
           </form>
         </article>
        </section>
        
      </main>
      <%- include('partials/footer') %>
      <script src="//cdn.jsdelivr.net/npm/sweetalert2@11"></script>

      <% if(typeof alert != "undefined") { %>
            <script>
              Swal.fire({
                title:'<%= alertTitle %>',
                 text: '<%= alertMessage %>',
                 icon: '<%= alertIcon %>',
                 showConfirmButton: '<%= showConfirmButton %>' ,
                 timer: '<%= timer %>',
              }).then(()=>{
                window.location= '<%= ruta  %>'
              })
            </script>
          <% } %>
 
      
     

           <script>
            // Obtener la fecha de hoy
    const hoy = new Date();
    // Establecer la fecha mínima como hoy
    const fechaMinima = hoy.toISOString().split('T')[0]; // Formato YYYY-MM-DD

    // Crear una nueva fecha aumentada en 15 días
    let fechaMaxima = new Date();
    fechaMaxima.setDate(hoy.getDate() + 15);

    // Establecer la fecha máxima como hoy + 15 días
    fechaMaxima = fechaMaxima.toISOString().split('T')[0]; // Formato YYYY-MM-DD

    // Seleccionar los inputs de fecha por su nombre
    const inputsFecha = document.querySelectorAll('[name="fecha"]');

    // Iterar sobre los inputs de fecha para establecer los límites
    inputsFecha.forEach(function(input) {
        // Establecer los límites mínimos y máximos para cada input de fecha
        input.setAttribute('min', fechaMinima);
        input.setAttribute('max', fechaMaxima);
    });
        </script>
      <!-- JavaScript Bundle with Popper -->
       <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0-beta1/dist/js/bootstrap.bundle.min.js" integrity="sha384-pprn3073KE6tl6bjs2QrFaJGz5/SUsLqktiwsUTF55Jfv3qYSDhgCecCxMW52nD2" crossorigin="anonymous"></script>
</body>
</html>